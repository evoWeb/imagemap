define(["jquery","jquery-ui/sortable","jquery-ui/draggable","TYPO3/CMS/Imagemap/JsGraphics"],function(s){s(document).ready(function(){var e=window.imagemap,a=e.defaultAttributeset,n=new canvasClass,i=e.scaleFactor,c=s("> .zout","#magnify"),o=s("> .zin","#magnify");n.init("canvas","picture","areaForms"),i=n.initializeScaling(i),n.setScale(i),e.canvasObject=n,e.existingAreas.forEach(function(e){n.addArea(new window["area"+e.shape+"Class"],e.coords,e.alt,e.link,e.color,e.prepend,e.attribute)}),i<1||o.hide(),c.hide(),o.click(function(){n.setScale(1),s(this).hide(),c.show()}),c.click(function(){n.setScale(i),s(this).hide(),o.show()}),s("#addRect").on("click",function(){n.addArea(new areaRectClass,"","","","",1,a)}),s("#addPoly").on("click",function(){n.addArea(new areaPolyClass,"","","","",1,a)}),s("#addCircle").on("click",function(){n.addArea(new areaCircleClass,"","","","",1,a)}),s("#submit").on("click",function(){window.opener.$('input[name="'+e.itemName+'"]').val("<map>"+n.persistanceXML()+"</map>").trigger("imagemap:changed"),close()}),s("#canvas").on("mousedown",n.mousedown.bind(n)).on("mouseup",n.mouseup.bind(n)).on("mousemove",n.mousemove.bind(n)).on("dblclick",n.dblclick.bind(n))})});
//# sourceMappingURL=Wizard.js.map
