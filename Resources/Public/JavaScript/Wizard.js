define(["jquery","jquery-ui/sortable","jquery-ui/draggable","TYPO3/CMS/Imagemap/JsGraphics"],function(t){t(document).ready(function(){var n=window.imagemap,e=n.defaultAttributeset,a=new canvasClass,i=n.scaleFactor,c=t("> .zout","#magnify"),r=t("> .zin","#magnify");a.init("canvas","picture","areaForms"),i=a.initializeScaling(i),a.setScale(i),n.canvasObject=a,n.existingAreas.forEach(function(e){a.addArea(new window["area"+e.shape+"Class"],e.coords,e.alt,e.link,e.color,e.prepend,e.attribute)}),i<1||r.hide(),c.hide(),r.click(function(){a.setScale(1),t(this).hide(),c.show()}),c.click(function(){a.setScale(i),t(this).hide(),r.show()}),t("#addRect").click(function(){return a.addArea(new areaRectClass,"","","","",1,e),!1}),t("#addPoly").click(function(){return a.addArea(new areaPolyClass,"","","","",1,e),!1}),t("#addCirc").click(function(){return a.addArea(new areaCircleClass,"","","","",1,e),!1}),t("#submit").click(function(){var e=function(){var e='input[name="'+n.itemName+'"]';{if(window.opener&&window.opener.document&&window.opener.document.querySelector(e))return window.opener.document.querySelector(e);close()}}();e&&$(e,parent.opener.document).val("<map>"+a.persistanceXML()+"</map>"),close()}),t("#canvas").mousedown(function(e){return a.mousedown(e)}).mouseup(function(e){return a.mouseup(e)}).mousemove(function(e){return a.mousemove(e)}).dblclick(function(e){return a.dblclick(e)})})});
//# sourceMappingURL=Wizard.js.map
