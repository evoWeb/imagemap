define(["jquery","TYPO3/CMS/Imagemap/AreaEditor"],function(d,h){d(document).ready(function(){var e=window.imagemap,s=d(".image img"),t=d(".picture"),i={canvas:{width:parseInt(s.css("width")),height:parseInt(s.css("height")),top:-1*parseInt(s.css("height"))}},a=new h(i,"canvas","#areasForm");e.areaEditor=a;var c,n,r,o;c=t.data("scale-factor"),n=d("#magnify"),r=n.find(".zoomout"),o=n.find(".zoomin"),a.setScale(),c<1&&(o.removeClass("hide"),o.click(function(){a.setScale(1),o.hide(),r.show()}),r.click(function(){a.setScale(c),r.hide(),o.show()})),d("#addRect").on("click",function(){a.addRect({coords:parseInt(s.css("width"))/2-50+","+(parseInt(s.css("height"))/2-50)+","+(parseInt(s.css("width"))/2+50)+","+(parseInt(s.css("height"))/2+50)})}),d("#addCircle").on("click",function(){a.addCircle({coords:parseInt(s.css("width"))/2-50+","+(parseInt(s.css("height"))/2-50)+",50"})}),d("#addPoly").on("click",function(){a.addPoly({coords:parseInt(s.css("width"))/2+","+(parseInt(s.css("height"))/2-50)+","+(parseInt(s.css("width"))/2+50)+","+(parseInt(s.css("height"))/2+50)+","+parseInt(s.css("width"))/2+","+(parseInt(s.css("height"))/2+70)+","+(parseInt(s.css("width"))/2-50)+","+(parseInt(s.css("height"))/2+50)})}),d("#submit").on("click",function(){window.opener.$('input[name="'+e.itemName+'"]').val(a.toAreaXml()).trigger("imagemap:changed"),close()}),a.initializeAreas(e.existingAreas)})});
//# sourceMappingURL=Wizard.js.map
