var _this=this;define(["jquery","TYPO3/CMS/Imagemap/AreaEditor"],function(r,m){r(document).ready(function(){var e,a=r(".imagemap-control:eq(0)"),t=a.find(".image img"),i=a.find(".picture"),n={canvas:{width:parseInt(t.css("width")),height:parseInt(t.css("height")),top:-1*parseInt(t.css("height"))}},s=new m(n,"canvas");e=i.data("thumbnail-scale"),s.setScale(e),a.find("input[type=hidden]").on("imagemap:changed",function(){var e=r(_this);r.ajax({url:window.TYPO3.settings.ajaxUrls.imagemap_preview_rerender,method:"POST",data:{P:{itemFormElName:e.attr("name"),tableName:"tt_content",fieldName:"tx_imagemap_links",uid:e.attr("name").replace("data[tt_content][","").replace("][tx_imagemap_links]",""),value:e.val()}}}).done(function(e,a){"success"===a&&(s.removeAllAreas(),s.initializeAreas(e))})}),s.initializeAreas(i.data("existing-areas"))})});
//# sourceMappingURL=FormElement.js.map
