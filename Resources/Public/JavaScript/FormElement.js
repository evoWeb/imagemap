var _this=this;define(["jquery","./AreaEditor"],function(d,m){d(document).ready(function(){var e,a,t=d(".imagemap-control:eq(0)"),i=t.find(".image img"),n=t.find(".picture"),r={canvas:{width:parseInt(i.css("width")),height:parseInt(i.css("height")),top:-1*parseInt(i.css("height"))},previewRerenderAjaxUrl:window.TYPO3.settings.ajaxUrls.imagemap_preview_rerender},s=new m(r,"canvas");e=n.data("thumbnail-scale"),s.setScale(e),a=r,t.find("input[type=hidden]").on("imagemap:changed",function(){var e=d(_this);d.ajax({url:a.previewRerenderAjaxUrl,method:"POST",data:{P:{itemFormElName:e.attr("name"),tableName:"tt_content",fieldName:"tx_imagemap_links",uid:e.attr("name").replace("data[tt_content][","").replace("][tx_imagemap_links]",""),value:e.val()}}}).done(function(e,a){"success"===a&&(s.removeAllAreas(),s.initializeAreas(e))})}),s.initializeAreas(n.data("existing-areas"))})});
//# sourceMappingURL=FormElement.js.map
